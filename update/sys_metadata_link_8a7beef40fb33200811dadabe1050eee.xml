<?xml version="1.0" encoding="UTF-8"?>
<record_update table="sys_metadata_link">
    <sys_metadata_link action="INSERT_OR_UPDATE">
        <directory>update</directory>
        <documentkey>05375f619462320092c0d40a7bef464d</documentkey>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;record_update&gt;
    &lt;sys_dictionary action="INSERT_OR_UPDATE" element="script_plain" table="ngbsm_script"&gt;
        &lt;active&gt;true&lt;/active&gt;
        &lt;array&gt;false&lt;/array&gt;
        &lt;array_denormalized&gt;false&lt;/array_denormalized&gt;
        &lt;attributes/&gt;
        &lt;audit&gt;false&lt;/audit&gt;
        &lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;
        &lt;choice/&gt;
        &lt;choice_field/&gt;
        &lt;choice_table/&gt;
        &lt;column_label&gt;Script&lt;/column_label&gt;
        &lt;comments/&gt;
        &lt;create_roles/&gt;
        &lt;default_value&gt;/***** IN ****** &amp;#13;
*  var dv_level  = "System- Input parameter indicating the current depth, cannot be modified.";&amp;#13;
*  var dv_ci_id = "System- Sys_id of the parent CI node";&amp;#13;
*  var dv_params = "System- Container for custom sticky parameters to be passed to this script at every recursion (empty by default).";&amp;#13;
*/ &amp;#13;
dependency_views_script();&amp;#13;
&amp;#13;
function dependency_views_script() {&amp;#13;
&amp;#13;
    /***** OUT ****** result - contains an array of the parent(args[0]) children &amp;#13;
     *[ {&amp;#13;
     *           "dv_ci_id" : "Mandatory- Sys_id of the child CI",&amp;#13;
     *           "dv_rel_id" : "Optional- Relation ID, a unique identifier for this relation (generated by the system by default)",&amp;#13;
     *           "dv_rel_type" : "Optional- Stored ID of the relation type (1a9cb166f1571100a92eb60da2bce5c5 by default)",&amp;#13;
     *           "dv_rel_type_label" : "Optional- Label of the relation (overwrites the default dv_rel_type label)",&amp;#13;
     *           "dv_downstream" :  "Optional- Indicates a downstream or upstream direction (true by default indicating a downstream direction)",&amp;#13;
     *           "dv_params" : "Optional- Container for sticky parameters to be passed to this script at recurring calls (empty by default)",&amp;#13;
     *	           "dv_messages":"Optional	- Container for notifications to be send to the client  [default-empty]"&amp;#13;
     *  }, … ] */&amp;#13;
     var result = [];   &amp;#13;
  &amp;#13;
   // &amp;lt;— Enter the script logic for the retrieval of the children.&amp;#13;
&amp;#13;
  /*  e.g.&amp;#13;
   result.push({&amp;#13;
        "dv_ci_id" : "27d32778c0a8000b00db970eeaa60f16", //Represents the 'Email' CI&amp;#13;
        "dv_rel_id" : "27eb80f3c0a8000b00587d37871ce04e", //Represents the link between Blackberry &amp;amp; Email&amp;#13;
        "dv_rel_type" : "1a9cb166f1571100a92eb60da2bce5c5", //Represents the 'Depends on::Used by' relationship&amp;#13;
        "dv_downsream" :  "true", //Indicates a downstream link&amp;#13;
        "dv_params" :  {&amp;#13;
            "test" :  "1234"; //A custom parameter to be used in a recurring call of this script&amp;#13;
        },&amp;#13;
        "dv_messages":  { "type":"info", "msg":"Testing Info Notification"} //Pass a notification to be displayed on the client [error,info] &amp;#13;
  */&amp;#13;
&amp;#13;
  return result;&amp;#13;
}&lt;/default_value&gt;
        &lt;defaultsort/&gt;
        &lt;delete_roles/&gt;
        &lt;dependent/&gt;
        &lt;dependent_on_field/&gt;
        &lt;display&gt;false&lt;/display&gt;
        &lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;
        &lt;dynamic_creation_script/&gt;
        &lt;dynamic_default_value/&gt;
        &lt;dynamic_ref_qual/&gt;
        &lt;element&gt;script_plain&lt;/element&gt;
        &lt;element_reference&gt;false&lt;/element_reference&gt;
        &lt;foreign_database/&gt;
        &lt;internal_type display_value="Script"&gt;script&lt;/internal_type&gt;
        &lt;mandatory&gt;false&lt;/mandatory&gt;
        &lt;max_length&gt;35000&lt;/max_length&gt;
        &lt;name&gt;ngbsm_script&lt;/name&gt;
        &lt;next_element/&gt;
        &lt;primary&gt;false&lt;/primary&gt;
        &lt;read_only&gt;false&lt;/read_only&gt;
        &lt;read_roles/&gt;
        &lt;reference/&gt;
        &lt;reference_cascade_rule/&gt;
        &lt;reference_floats&gt;false&lt;/reference_floats&gt;
        &lt;reference_key/&gt;
        &lt;reference_qual/&gt;
        &lt;reference_qual_condition/&gt;
        &lt;reference_type/&gt;
        &lt;sizeclass/&gt;
        &lt;spell_check&gt;false&lt;/spell_check&gt;
        &lt;staged&gt;false&lt;/staged&gt;
        &lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;
        &lt;sys_created_by&gt;system&lt;/sys_created_by&gt;
        &lt;sys_created_on&gt;2015-11-15 15:52:10&lt;/sys_created_on&gt;
        &lt;sys_customer_update&gt;false&lt;/sys_customer_update&gt;
        &lt;sys_id&gt;05375f619462320092c0d40a7bef464d&lt;/sys_id&gt;
        &lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;
        &lt;sys_name&gt;Script&lt;/sys_name&gt;
        &lt;sys_package display_value="Next-Gen BSM" source="com.snc.ng_bsm"&gt;e0371f619462320092c0d40a7bef46d1&lt;/sys_package&gt;
        &lt;sys_policy/&gt;
        &lt;sys_replace_on_upgrade&gt;false&lt;/sys_replace_on_upgrade&gt;
        &lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;
        &lt;sys_update_name&gt;sys_dictionary_ngbsm_script_script_plain&lt;/sys_update_name&gt;
        &lt;sys_updated_by&gt;system&lt;/sys_updated_by&gt;
        &lt;sys_updated_on&gt;2017-07-01 02:26:30&lt;/sys_updated_on&gt;
        &lt;table_reference&gt;false&lt;/table_reference&gt;
        &lt;text_index&gt;false&lt;/text_index&gt;
        &lt;unique&gt;false&lt;/unique&gt;
        &lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;
        &lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;
        &lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;
        &lt;virtual&gt;false&lt;/virtual&gt;
        &lt;widget/&gt;
        &lt;write_roles/&gt;
        &lt;xml_view&gt;false&lt;/xml_view&gt;
    &lt;/sys_dictionary&gt;
&lt;/record_update&gt;
</payload>
        <sys_class_name>sys_metadata_link</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2017-07-04 12:22:45</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>8a7beef40fb33200811dadabe1050eee</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Script</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_metadata_link_8a7beef40fb33200811dadabe1050eee</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2017-07-04 12:22:45</sys_updated_on>
        <tablename>sys_dictionary</tablename>
    </sys_metadata_link>
</record_update>
